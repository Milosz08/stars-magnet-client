<!--
  ~ Copyright (c) 2023 by MILOSZ GILGA <http://miloszgilga.pl>
  ~
  ~ File name: public-filtered-companies-page.component.html
  ~ Last modified: 6/6/23, 3:54 PM
  ~ Project name: stars-magnet-client
  ~
  ~ Licensed under the MIT license; you may not use this file except in compliance with the License.
  ~
  ~ Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
  ~ documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
  ~ rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
  ~ permit persons to whom the Software is furnished to do so, subject to the following conditions:
  ~
  ~ THE ABOVE COPYRIGHT NOTICE AND THIS PERMISSION NOTICE SHALL BE INCLUDED IN ALL COPIES OR
  ~ SUBSTANTIAL PORTIONS OF THE SOFTWARE.
  ~
  ~ The software is provided "as is", without warranty of any kind, express or implied, including but not limited
  ~ to the warranties of merchantability, fitness for a particular purpose and noninfringement. In no event
  ~ shall the authors or copyright holders be liable for any claim, damages or other liability, whether in an
  ~ action of contract, tort or otherwise, arising from, out of or in connection with the software or the use
  ~ or other dealings in the software.
  -->

<div class="row">
    <div class="col-lg-4 mb-4 d-flex">
        <div class="col-lg w-100">
            <div class="sticky-top panel-left-nav">
                <div class="row mt-4">
                    <a class="hstack gap-2 text-decoration-none text-secondary" routerLink="/">
                        <i class="bi bi-arrow-return-left"></i>
                        Return to all categories
                    </a>
                </div>
                <div class="d-none d-lg-block card border-0 shadow-sm mt-3 p-3">
                    <app-category-companies-filter
                        (refrehDataEmit)="refreshCompanies()"
                    ></app-category-companies-filter>
                </div>
                <div ngbAccordion class="mt-3 d-block d-lg-none">
                    <div ngbAccordionItem>
                        <h2 ngbAccordionHeader class="d-block d-lg-none">
                            <button ngbAccordionButton>Advanced filters</button>
                        </h2>
                        <div ngbAccordionCollapse>
                            <div ngbAccordionBody>
                                <ng-template>
                                    <app-category-companies-filter
                                        (refrehDataEmit)="refreshCompanies()"
                                    ></app-category-companies-filter>
                                </ng-template>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-8 mt-4">
        <app-companies-search-bar></app-companies-search-bar>
        <app-companies-list
            [categoriesAreFullVisibled]="true"
            (onChangePageEmitter)="onChangePage($event)"
            (onChangeLimit)="refreshCompanies()"
        >
            <ng-container alert>
                Not found any company matching to selected query: <strong>{{ searchContent$ | async }}</strong>.
            </ng-container>
        </app-companies-list>
    </div>
</div>
